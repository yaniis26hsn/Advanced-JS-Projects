const usersList = document.getElementById("myList") ;
const myPosts = document.getElementById("myPosts") 
function GetUserPosts(){
    
    let request = new XMLHttpRequest() ;
    let username = this.theh2child.innerHTML    // we will need the username(userId) which it is the innerHtml of h2 elem which is  a child of the currant elemant 
    // here we will concatenate it to the link of the request (Path parameter) so we will get the posts of that specific user 
    link = "rabbit" + "/" + username ;
    request.open("GET",link) ; // we will add /id or /username to the old rabbit 
    request.responseType = "json" ;
    request.send() ;
    request.onload() = function(){
        var posts = request.response ;
        for(post of posts){
            myPosts.innerHTML = "<li class='post'>  <h2 class='title'>${post.title}</h2>  <p class='text'> ${post.body}  </p> </li>"
         // we need to print the posts of the only clicked on user . that why we overwrote the whole list  
        }
    }
}
function GetAllUsers(){
    let request = new XMLHttpRequest() ;
    request.open("GET","rabbit") ;
    request.responseType = "json" ;
    request.send() ;
    request.onload() = function(){
        var users = request.response ; // if there we any colisions we would used let instead of var 
    }
    for(user of users){
      usersList.innerHTML += " <li class=`uIcon` onclick=`getUserPosts()`> <h2 class='username'> ${user.username}  </h2>  <p class='gmail'>${user.email} </p> </li>"
       // we could use the DOM technique but this is faster 
    }

}
